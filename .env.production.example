# =============================================================================
# MessageWise Optimizer - Production Environment Configuration
# =============================================================================
# IMPORTANT: Copy this file to .env and fill in your production values
# NEVER commit the actual .env file to version control!
# =============================================================================

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL connection string (use connection pooling for production)
# For Railway: Use the DATABASE_URL provided by Railway PostgreSQL plugin
# For Supabase: Use the connection string from Supabase dashboard
DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=require&connection_limit=20"

# =============================================================================
# REDIS CACHE (Optional but recommended for production)
# =============================================================================
# For Railway: Use the REDIS_URL provided by Railway Redis plugin
# For Upstash: Use the connection string from Upstash dashboard
REDIS_URL="redis://default:password@host:6379"

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# IMPORTANT: Generate strong, unique secrets for production!
# Use: openssl rand -base64 64
JWT_SECRET="your-super-secure-jwt-secret-min-64-characters-generate-with-openssl"
JWT_EXPIRES_IN="7d"
JWT_REFRESH_EXPIRES_IN="30d"

# =============================================================================
# WHATSAPP BUSINESS API (Meta Cloud API)
# =============================================================================
# Get these from Meta Business Manager: https://business.facebook.com/
WHATSAPP_API_URL="https://graph.facebook.com/v18.0"
WHATSAPP_VERIFY_TOKEN="your-webhook-verify-token"
WHATSAPP_APP_SECRET="your-app-secret-from-meta-dashboard"

# =============================================================================
# TELEGRAM BOT (Notifications)
# =============================================================================
# Create bot via @BotFather on Telegram
TELEGRAM_BOT_TOKEN="your-telegram-bot-token"

# =============================================================================
# STRIPE (International Payments)
# =============================================================================
# Get from Stripe Dashboard: https://dashboard.stripe.com/
# Use live keys for production (sk_live_*, pk_live_*)
STRIPE_SECRET_KEY="sk_live_your_stripe_secret_key"
STRIPE_PUBLISHABLE_KEY="pk_live_your_stripe_publishable_key"
STRIPE_WEBHOOK_SECRET="whsec_your_stripe_webhook_secret"

# Stripe Price IDs (create products in Stripe Dashboard)
STRIPE_PRICE_STARTER="price_starter_monthly_id"
STRIPE_PRICE_PRO="price_pro_monthly_id"
STRIPE_PRICE_ENTERPRISE="price_enterprise_monthly_id"

# =============================================================================
# XENDIT (Indonesian Payments)
# =============================================================================
# Get from Xendit Dashboard: https://dashboard.xendit.co/
# Use live keys for production
XENDIT_SECRET_KEY="xnd_production_your_xendit_secret_key"
XENDIT_WEBHOOK_TOKEN="your-xendit-webhook-verification-token"
XENDIT_CALLBACK_URL="https://api.yourdomain.com/api/webhooks/xendit"

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
PORT=3001
NODE_ENV="production"
FRONTEND_URL="https://yourdomain.com"
API_VERSION="v1"

# =============================================================================
# ENCRYPTION
# =============================================================================
# IMPORTANT: Generate a secure 32-character key
# Use: openssl rand -hex 16
ENCRYPTION_KEY="your-32-character-encryption-key"

# =============================================================================
# EMAIL (SMTP)
# =============================================================================
# For Gmail: Enable 2FA and create App Password
# For SendGrid/Mailgun: Use their SMTP credentials
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="your-email@yourdomain.com"
SMTP_PASS="your-smtp-password-or-app-password"
EMAIL_FROM="MessageWise <noreply@yourdomain.com>"

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL="info"
LOG_FORMAT="combined"

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_TELEGRAM_ALERTS=true
ENABLE_PDF_EXPORT=true
ENABLE_XENDIT=true
ENABLE_STRIPE=true

# =============================================================================
# CORS (Allowed Origins)
# =============================================================================
CORS_ORIGINS="https://yourdomain.com,https://www.yourdomain.com"

# =============================================================================
# SENTRY (Error Tracking - Optional)
# =============================================================================
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
